{"version":3,"file":"index.js","sources":["../dist-src/Cassette.js","../dist-src/Pace.js","../dist-src/useAutoStringTimeout.js","../dist-src/renderCassette.js","../dist-src/useAutoString.js","../dist-src/OnChar.js","../dist-src/Pause.js","../dist-src/AutoStringComponent.js","../dist-src/CharWrapper.js","../dist-src/Linebreaker.js"],"sourcesContent":["export function isPlayedCassette(cassette) {\n    return cassette.length === 2;\n}\nexport function memberIsCassette(member) {\n    // If it's not an array it can't be a cassette\n    if (!Array.isArray(member)) {\n        return false;\n    }\n    // If it has less or more than three members it's not a cassette\n    if (member.length !== 3) {\n        return false;\n    }\n    // If its first or second members are not arrays it's not a cassette\n    if (!Array.isArray(member[0]) || !Array.isArray(member[1])) {\n        return false;\n    }\n    // Past here we just have to hope ElementType isn't a Cassette.\n    return true;\n}\nexport function cassetteFromString(str, metadata) {\n    return [[], str.split(\"\"), metadata];\n}\nexport function newCassette(arg, metadata) {\n    return [[], arg, metadata];\n}\nexport function isUnplayed(cassette) {\n    const [played, remaining] = cassette;\n    if (played.length > 0) {\n        return false;\n    }\n    return remaining.reduce((unplayed, member) => {\n        if (memberIsCassette(member))\n            if (memberIsCassette(cassette) && unplayed) {\n                return isUnplayed(member);\n            }\n        return unplayed;\n    }, true);\n}\nexport function isFinished([_played, remaining]) {\n    return remaining.length === 0;\n}\nexport function fastForward(cassette) {\n    const forwardedCassette = next(cassette);\n    if (isFinished(forwardedCassette)) {\n        return forwardedCassette;\n    }\n    return fastForward(forwardedCassette);\n}\nexport function rewind(cassette) {\n    if (isUnplayed(cassette)) {\n        return cassette;\n    }\n    const [played, remaining, metadata] = cassette;\n    const mapRewind = (member) => {\n        if (memberIsCassette(member)) {\n            return rewind(member);\n        }\n        return member;\n    };\n    return [\n        [],\n        [...played.map(mapRewind), ...remaining.map(mapRewind)],\n        metadata\n    ];\n}\nexport function cassetteAsString(cassette) {\n    const [played, remaining] = cassette;\n    const stringify = (member) => {\n        if (memberIsCassette(member)) {\n            return cassetteAsString(member);\n        }\n        return member;\n    };\n    return [\n        played.map(stringify).join(\"\"),\n        remaining.map(stringify).join(\"\")\n    ].join(\"\");\n}\nexport function lastPlayedElement([played, remaining]) {\n    const playedFromRemaining = remaining.reduce((playedEl, member) => {\n        if (memberIsCassette(member)) {\n            if (!isUnplayed(member)) {\n                return lastPlayedElement(member);\n            }\n        }\n        return playedEl;\n    }, undefined);\n    if (playedFromRemaining) {\n        return playedFromRemaining;\n    }\n    const last = played[played.length - 1];\n    if (memberIsCassette(last)) {\n        return lastPlayedElement(last);\n    }\n    return last;\n}\nexport function playedElements([played, remaining]) {\n    const playedTransformed = played.map(member => {\n        if (memberIsCassette(member)) {\n            const [_played, _remaining, metadata] = member;\n            return [playedElements(member), metadata];\n        }\n        return member;\n    });\n    const [firstRemaning] = remaining;\n    if (memberIsCassette(firstRemaning) && !isUnplayed(firstRemaning)) {\n        const [_playedRemaining, _remaining, metadata] = firstRemaning;\n        return [\n            ...playedTransformed,\n            [playedElements(firstRemaning), metadata]\n        ];\n    }\n    return playedTransformed;\n}\nexport function nextElement([_played, remaining]) {\n    const [nextVal] = remaining;\n    if (memberIsCassette(nextVal)) {\n        return nextElement(nextVal);\n    }\n    return nextVal;\n}\nexport function next(cassette) {\n    // start\n    // [[], [[[], [\"h\", \"i\"]], [[], [\"n\", \"o\"]]]]\n    // next\n    // [[], [[[\"h\"], [\"i\"]], [\"\", [\"n\", \"o\"]]]]\n    // next\n    // [[\"h\", \"i\"], [[\"n\", \"o\"]]]\n    // next\n    // [[\"h\", \"i\"] [\"n\", \"o\"]], []]\n    if (isFinished(cassette)) {\n        return cassette;\n    }\n    const [played, remaining, metadata] = cassette;\n    const [firstRemaining, ...restRemaining] = remaining;\n    if (memberIsCassette(firstRemaining)) {\n        const nextFirstRemaining = next(firstRemaining);\n        if (isFinished(nextFirstRemaining)) {\n            return [[...played, nextFirstRemaining], restRemaining, metadata];\n        }\n        return [played, [nextFirstRemaining, ...restRemaining], metadata];\n    }\n    return [[...played, firstRemaining], restRemaining, metadata];\n}\n","import React from \"react\";\nimport { isFinished, memberIsCassette } from \"./Cassette\";\nexport function defaultGetPace(character) {\n    switch (character) {\n        case \".\":\n        case \",\":\n        case \"?\":\n        case \"!\":\n        case \"-\":\n            return 120;\n        default:\n            return 20;\n    }\n}\nconst Pace = ({ children }) => {\n    return React.createElement(React.Fragment, null, children);\n};\nexport function isPaceElement(element) {\n    return element.type === Pace;\n}\nexport function isMsProp(props) {\n    if (\"ms\" in props) {\n        return true;\n    }\n    return false;\n}\nexport function paceFromCassette(cassette) {\n    if (isFinished(cassette)) {\n        return undefined;\n    }\n    const [_played, remaining, metadata] = cassette;\n    const [firstRemaining] = remaining;\n    if (firstRemaining && memberIsCassette(firstRemaining)) {\n        return paceFromCassette(firstRemaining);\n    }\n    return metadata.pace;\n}\nexport default Pace;\n","import { useRef, useEffect, useCallback } from \"react\";\nimport { defaultGetPace } from \"./Pace\";\nimport { isFinished, lastPlayedElement, nextElement, next, fastForward, rewind } from \"./Cassette\";\nexport default function useAutoStringTimeout(cassette, setCassette, options) {\n    const timeoutRef = useRef(null);\n    const onCharacterRef = useRef(options.onChar);\n    const onFinishedRef = useRef(options.onFinished);\n    const paceRef = useRef(options.pace || defaultGetPace);\n    const shouldFireOnFinishRef = useRef(true);\n    const cassetteIsFinished = isFinished(cassette);\n    onCharacterRef.current = options.onChar;\n    onFinishedRef.current = options.onFinished;\n    paceRef.current = options.pace || defaultGetPace;\n    useEffect(() => {\n        if (cassetteIsFinished && onFinishedRef.current) {\n            onFinishedRef.current();\n        }\n    }, [cassetteIsFinished]);\n    useEffect(() => {\n        if (!cassetteIsFinished) {\n            const lastEl = lastPlayedElement(cassette);\n            timeoutRef.current = setTimeout(() => {\n                const nextCharacter = nextElement(cassette);\n                if (onCharacterRef.current && nextCharacter) {\n                    onCharacterRef.current(nextCharacter);\n                }\n                setCassette((prevCassette) => next(prevCassette));\n            }, lastEl ? paceRef.current(lastEl) : 0);\n            return () => {\n                if (timeoutRef.current) {\n                    clearTimeout(timeoutRef.current);\n                }\n            };\n        }\n    }, [cassetteIsFinished, cassette, setCassette]);\n    const skip = useCallback(() => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n        if (shouldFireOnFinishRef.current) {\n            shouldFireOnFinishRef.current = false;\n            const finishedCassette = fastForward(cassette);\n            setCassette(finishedCassette);\n        }\n    }, [cassette, setCassette]);\n    const rewindCassette = useCallback(() => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n        shouldFireOnFinishRef.current = true;\n        setCassette(rewind(cassette));\n    }, [cassette, setCassette]);\n    return { skip, rewind: rewindCassette, isFinished: cassetteIsFinished };\n}\n","import React from \"react\";\nimport { playedElements, isPlayedCassette } from \"./Cassette\";\nexport default function renderCassette(cassette) {\n    const metadata = isPlayedCassette(cassette) ? cassette[1] : cassette[2];\n    const played = isPlayedCassette(cassette)\n        ? cassette[0]\n        : playedElements(cassette);\n    const Outer = metadata.element || React.Fragment;\n    if (metadata.props && Object.keys(metadata.props).includes(\"children\")) {\n        return React.createElement(Outer, Object.assign({}, metadata.props));\n    }\n    const inner = played.reduce((acc, playedEl) => {\n        if (typeof playedEl === \"string\") {\n            const accButLast = acc.slice(0, acc.length - 1);\n            const last = acc[acc.length - 1];\n            return last && typeof last === \"string\"\n                ? [...accButLast, last + playedEl]\n                : [...acc, playedEl];\n        }\n        return [...acc, renderCassette(playedEl)];\n    }, []);\n    return (React.createElement(Outer, Object.assign({ key: metadata.key }, metadata.props), inner));\n}\n","import React, { useState, useEffect } from \"react\";\nimport { cassetteFromString } from \"./Cassette\";\nimport useAutoStringTimeout from \"./useAutoStringTimeout\";\nimport renderCassette from \"./renderCassette\";\nexport default function useAutoString(text, options = {}) {\n    const [cassette, setCassette] = useState(cassetteFromString(text, {\n        ...options,\n        element: React.Fragment\n    }));\n    useEffect(() => {\n        setCassette(cassetteFromString(text, {\n            ...options,\n            element: React.Fragment\n        }));\n    }, [text]);\n    const { skip, rewind, isFinished } = useAutoStringTimeout(cassette, setCassette, options);\n    return [renderCassette(cassette), { skip, rewind, isFinished }];\n}\n","import React from \"react\";\nimport { isFinished, memberIsCassette } from \"./Cassette\";\nconst OnChar = ({ children }) => {\n    return React.createElement(React.Fragment, null, children);\n};\nexport function isOnCharElement(element) {\n    return element.type === OnChar;\n}\nexport function onCharFromCassette(cassette) {\n    if (isFinished(cassette)) {\n        return undefined;\n    }\n    const [_played, remaining, metadata] = cassette;\n    const [firstRemaining] = remaining;\n    if (firstRemaining && memberIsCassette(firstRemaining)) {\n        return onCharFromCassette(firstRemaining);\n    }\n    return metadata.onChar;\n}\nexport default OnChar;\n","import React from \"react\";\nconst Pause = ({}) => {\n    return React.createElement(React.Fragment, null);\n};\nexport function isPauseElement(element) {\n    return element.type === Pause;\n}\nexport default Pause;\n","import React, { useState, useContext } from \"react\";\nimport { newCassette, cassetteFromString, memberIsCassette } from \"./Cassette\";\nimport { isPaceElement, isMsProp, paceFromCassette } from \"./Pace\";\nimport { isOnCharElement, onCharFromCassette } from \"./OnChar\";\nimport { isPauseElement } from \"./Pause\";\nimport useAutoStringTimeout from \"./useAutoStringTimeout\";\nimport renderCassette from \"./renderCassette\";\nconst AutoStringContext = React.createContext({\n    skip: () => {\n        console.warn(\"Tried to use the useSkip hook outside of a AutoString context!\");\n    },\n    rewind: () => {\n        console.warn(\"Tried to use the useRewind hook outside of a AutoString context!\");\n    },\n    isFinished: false\n});\nexport function useSkip() {\n    const { skip } = useContext(AutoStringContext);\n    return skip;\n}\nexport function useRewind() {\n    const { rewind } = useContext(AutoStringContext);\n    return rewind;\n}\nexport function useIsFinished() {\n    const { isFinished } = useContext(AutoStringContext);\n    return isFinished;\n}\nfunction reduceCassetteArgs(prevArgs, children) {\n    if (typeof children === \"string\") {\n        return [...prevArgs, ...children.split(\"\")];\n    }\n    if (typeof children === \"number\") {\n        return [...prevArgs, ...children.toString().split(\"\")];\n    }\n    if (!React.isValidElement(children)) {\n        return prevArgs;\n    }\n    const { children: childrenChildren, ...restProps } = children.props;\n    const paceMetaData = isPaceElement(children)\n        ? {\n            pace: (char) => {\n                if (isMsProp(children.props)) {\n                    return children.props.ms;\n                }\n                return children.props.getPace(char);\n            }\n        }\n        : {};\n    const onCharMetaData = isOnCharElement(children)\n        ? {\n            onChar: children.props.fn\n        }\n        : {};\n    const keyProp = children.key ? { key: children.key } : {};\n    if (isPauseElement(children)) {\n        return [\n            ...prevArgs,\n            cassetteFromString(\" \", {\n                element: React.Fragment,\n                ...keyProp,\n                props: {},\n                pace: () => children.props.ms\n            })\n        ];\n    }\n    if (childrenChildren === undefined) {\n        return [\n            ...prevArgs,\n            cassetteFromString(\" \", {\n                element: children.type,\n                props: restProps,\n                ...keyProp,\n                ...paceMetaData,\n                ...onCharMetaData\n            })\n        ];\n    }\n    if (typeof childrenChildren === \"string\") {\n        return [\n            ...prevArgs,\n            cassetteFromString(childrenChildren, {\n                element: children.type,\n                props: restProps,\n                ...keyProp,\n                ...paceMetaData,\n                ...onCharMetaData\n            })\n        ];\n    }\n    if (childrenChildren instanceof Function) {\n        return [\n            ...prevArgs,\n            cassetteFromString(\" \", {\n                element: children.type,\n                props: { children: childrenChildren, ...restProps },\n                ...keyProp,\n                ...paceMetaData,\n                ...onCharMetaData\n            })\n        ];\n    }\n    const newArgs = React.Children.toArray(childrenChildren).reduce(reduceCassetteArgs, []);\n    const argsWithMetadata = newArgs.map(member => {\n        if (memberIsCassette(member)) {\n            const [played, remaining, metadata] = member;\n            return [\n                played,\n                remaining,\n                {\n                    ...paceMetaData,\n                    ...onCharMetaData,\n                    ...metadata\n                }\n            ];\n        }\n        return member;\n    });\n    return [\n        ...prevArgs,\n        newCassette(argsWithMetadata, {\n            element: children.type,\n            props: restProps,\n            ...keyProp,\n            ...paceMetaData,\n            ...onCharMetaData\n        })\n    ];\n}\nconst AutoString = ({ children, onFinished }) => {\n    const [cassette, setCassette] = useState(newCassette(React.Children.toArray(children).reduce(reduceCassetteArgs, []), { element: undefined }));\n    const { skip, rewind, isFinished } = useAutoStringTimeout(cassette, setCassette, {\n        onFinished,\n        pace: paceFromCassette(cassette),\n        onChar: onCharFromCassette(cassette)\n    });\n    return (React.createElement(AutoStringContext.Provider, { value: {\n            skip,\n            rewind,\n            isFinished\n        } }, renderCassette(cassette)));\n};\nexport default AutoString;\n","import React from \"react\";\nfunction wrapChildren(children, Wrapper) {\n    if (typeof children === \"string\") {\n        return children.split(\"\").map(char => React.createElement(Wrapper, null, char));\n    }\n    if (typeof children === \"number\") {\n        return children\n            .toString()\n            .split(\"\")\n            .map(char => React.createElement(Wrapper, null, char));\n    }\n    if (!React.isValidElement(children)) {\n        return React.createElement(React.Fragment, null);\n    }\n    const Outer = children.type;\n    if (children.props.children instanceof Function) {\n        return React.createElement(Outer, Object.assign({ key: children.key }, children.props));\n    }\n    return (React.createElement(Outer, Object.assign({ key: children.key }, children.props), React.Children.map(children.props.children, ch => {\n        return wrapChildren(ch, Wrapper);\n    })));\n}\nconst CharWrapper = ({ children, element }) => {\n    return (React.createElement(React.Fragment, null, React.Children.map(children, ch => {\n        return wrapChildren(ch, element);\n    })));\n};\nexport default CharWrapper;\n","import React from \"react\";\nimport breakLines from \"break-styled-lines\";\nfunction getStringsOfReactChildren(strings, children) {\n    if (typeof children === \"string\") {\n        return [...strings, children];\n    }\n    if (typeof children === \"number\") {\n        return [...strings, children.toString()];\n    }\n    if (!React.isValidElement(children)) {\n        return strings;\n    }\n    return [\n        ...strings,\n        ...React.Children.toArray(children.props.children).reduce(getStringsOfReactChildren, [])\n    ];\n}\nfunction reinsertStringsIntoChildren([accChildren, accStrings], children) {\n    if (typeof children === \"string\" || typeof children === \"number\") {\n        const [firstString, ...restStrings] = accStrings;\n        return [[...accChildren, firstString], restStrings];\n    }\n    if (!React.isValidElement(children)) {\n        return [accChildren, accStrings];\n    }\n    const [subChildrenAcc, subStringsAcc] = React.Children.toArray(children.props.children).reduce(reinsertStringsIntoChildren, [[], accStrings]);\n    return [\n        [\n            ...accChildren,\n            React.cloneElement(children, {\n                children: subChildrenAcc\n            })\n        ],\n        subStringsAcc\n    ];\n}\nconst Linebreaker = ({ children, fontStyle, width }) => {\n    // CAVEATS:\n    // fontStyle must match the font style of the characters inside\n    // non-character elements must not add width to the line.\n    // must be used OUTSIDE of autostring component\n    const childrenArray = React.Children.toArray(children);\n    console.log({ width });\n    const strings = childrenArray.reduce(getStringsOfReactChildren, []);\n    const transformedStrings = breakLines(strings, width, fontStyle);\n    const [transformedChildren] = childrenArray.reduce(reinsertStringsIntoChildren, [\n        [],\n        transformedStrings\n    ]);\n    return React.createElement(\"div\", { style: { whiteSpace: \"pre-line\" } }, transformedChildren);\n};\nexport default Linebreaker;\n"],"names":[],"mappings":"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"}